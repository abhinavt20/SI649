
<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.8.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
<div class="vega-visualization" id="vega-visualization-fe040d06fa4542608d07c6e1797c644f"></div>
<script type="text/javascript">
  const spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300, "strokeWidth": 0}, "background": "white", "title": {"color": "black", "font": "Times New Roman"}}, "hconcat": [{"vconcat": [{"data": {"name": "data-632f61fef1e2fccc41daf02461a934b2"}, "mark": {"type": "text"}, "encoding": {"x": {"value": 0}, "y": {"value": 0}}, "height": 100, "width": 600}, {"data": {"url": "https://cdn.jsdelivr.net/npm/vega-datasets@v1.29.0/data/us-10m.json", "format": {"feature": "states", "type": "topojson"}}, "mark": {"type": "geoshape", "stroke": "black", "strokeWidth": 1}, "encoding": {"color": {"field": "voting", "legend": {"labelFont": "Times New Roman", "labelFontSize": 12, "title": "Party", "titleFont": "Times New Roman", "titleFontSize": 14}, "scale": {"domain": ["Democrat", "Republican"], "range": ["#4575b4", "#d73027"]}, "type": "nominal"}, "opacity": {"condition": {"param": "param_26", "value": 1, "empty": true}, "value": 0.3}, "tooltip": [{"field": "State", "title": "State", "type": "nominal"}, {"field": "composite_score", "format": ".3f", "title": "Composite Score", "type": "quantitative"}, {"field": "education_component", "format": ".3f", "title": "Education Component", "type": "quantitative"}, {"field": "income_component", "format": ".3f", "title": "Income Component", "type": "quantitative"}, {"field": "religion_component", "format": ".3f", "title": "Religion Component", "type": "quantitative"}]}, "height": 400, "name": "view_90", "projection": {"type": "albersUsa"}, "title": "2020 Presidential Election Results", "transform": [{"calculate": "toString(datum.id)", "as": "state_id"}, {"lookup": "state_id", "from": {"data": {"name": "data-0d5b50a1c5615b2741f542eb058df7ca"}, "key": "id", "fields": ["State", "voting", "education_normalized", "income_normalized", "religion_normalized"]}}, {"calculate": "(Education * datum.education_normalized + Income * datum.income_normalized + Religion * datum.religion_normalized) / (Education + Income + Religion || 1)", "as": "composite_score"}, {"calculate": "(Education * datum.education_normalized) / (Education + Income + Religion || 1)", "as": "education_component"}, {"calculate": "(Income * datum.income_normalized) / (Education + Income + Religion || 1)", "as": "income_component"}, {"calculate": "(Religion * datum.religion_normalized) / (Education + Income + Religion || 1)", "as": "religion_component"}], "width": 600}]}, {"data": {"name": "data-0d5b50a1c5615b2741f542eb058df7ca"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "voting", "legend": null, "scale": {"domain": ["Democrat", "Republican"], "range": ["#4575b4", "#d73027"]}, "type": "nominal"}, "opacity": {"condition": {"param": "param_26", "value": 1, "empty": true}, "value": 0.3}, "tooltip": [{"field": "State", "title": "State", "type": "nominal"}, {"field": "composite_score", "format": ".3f", "title": "Composite Score", "type": "quantitative"}, {"field": "education_component", "format": ".3f", "title": "Education Component", "type": "quantitative"}, {"field": "income_component", "format": ".3f", "title": "Income Component", "type": "quantitative"}, {"field": "religion_component", "format": ".3f", "title": "Religion Component", "type": "quantitative"}], "x": {"axis": {"labelFont": "Times New Roman", "titleFont": "Times New Roman"}, "field": "composite_score", "title": "Composite Score", "type": "quantitative"}, "y": {"axis": {"labelFont": "Times New Roman", "titleFont": "Times New Roman"}, "field": "State", "sort": "-x", "title": "State", "type": "nominal"}}, "height": 700, "name": "view_91", "title": "Composite Score by State", "transform": [{"calculate": "(Education * datum.education_normalized + Income * datum.income_normalized + Religion * datum.religion_normalized) / (Education + Income + Religion || 1)", "as": "composite_score"}, {"calculate": "(Education * datum.education_normalized) / (Education + Income + Religion || 1)", "as": "education_component"}, {"calculate": "(Income * datum.income_normalized) / (Education + Income + Religion || 1)", "as": "income_component"}, {"calculate": "(Religion * datum.religion_normalized) / (Education + Income + Religion || 1)", "as": "religion_component"}, {"window": [{"op": "rank", "field": "composite_score", "as": "rank"}], "sort": [{"field": "composite_score", "order": "descending"}]}, {"filter": "(datum.rank <= 50)"}], "width": 500}], "params": [{"name": "param_26", "select": {"type": "point", "clear": "mouseout", "fields": ["State"], "on": "mouseover"}, "views": ["view_90", "view_91"]}, {"name": "Education", "bind": {"input": "checkbox"}, "value": 1}, {"name": "Income", "bind": {"input": "checkbox"}, "value": 1}, {"name": "Religion", "bind": {"input": "checkbox"}, "value": 1}], "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json", "datasets": {"data-632f61fef1e2fccc41daf02461a934b2": [{"x": 0, "y": 0}], "data-0d5b50a1c5615b2741f542eb058df7ca": [{"State": "Alabama", "id": 1, "education": 25.5, "income": 50536, "religion": 86, "voting": "Republican", "education_normalized": 0.18103448275862066, "income_normalized": 0.13581814560302757, "religion_normalized": 1.0, "latitude": 32.806671, "longitude": -86.79113}, {"State": "Alaska", "id": 2, "education": 29.6, "income": 75463, "religion": 45, "voting": "Republican", "education_normalized": 0.3577586206896552, "income_normalized": 0.7564485609003088, "religion_normalized": 0.0, "latitude": 61.370716, "longitude": -152.404419}, {"State": "Arizona", "id": 4, "education": 29.5, "income": 61529, "religion": 57, "voting": "Democrat", "education_normalized": 0.35344827586206895, "income_normalized": 0.4095209640474056, "religion_normalized": 0.2926829268292683, "latitude": 33.729759, "longitude": -111.431221}, {"State": "Arkansas", "id": 5, "education": 23.3, "income": 47597, "religion": 79, "voting": "Republican", "education_normalized": 0.08620689655172414, "income_normalized": 0.06264316303157057, "religion_normalized": 0.8292682926829268, "latitude": 34.969704, "longitude": -92.373123}, {"State": "California", "id": 6, "education": 34.7, "income": 75235, "religion": 63, "voting": "Democrat", "education_normalized": 0.5775862068965518, "income_normalized": 0.7507718354745543, "religion_normalized": 0.43902439024390244, "latitude": 36.116203, "longitude": -119.681564}, {"State": "Colorado", "id": 8, "education": 41.6, "income": 72331, "religion": 64, "voting": "Democrat", "education_normalized": 0.8750000000000001, "income_normalized": 0.6784682800517877, "religion_normalized": 0.4634146341463415, "latitude": 39.059811, "longitude": -105.311104}, {"State": "Connecticut", "id": 9, "education": 39.3, "income": 78833, "religion": 55, "voting": "Democrat", "education_normalized": 0.7758620689655171, "income_normalized": 0.8403545463599243, "religion_normalized": 0.24390243902439024, "latitude": 41.597782, "longitude": -72.755371}, {"State": "Delaware", "id": 10, "education": 32.7, "income": 68287, "religion": 69, "voting": "Democrat", "education_normalized": 0.4913793103448277, "income_normalized": 0.577781097500249, "religion_normalized": 0.5853658536585366, "latitude": 39.318523, "longitude": -75.507141}, {"State": "Florida", "id": 12, "education": 30.5, "income": 55660, "religion": 70, "voting": "Republican", "education_normalized": 0.396551724137931, "income_normalized": 0.2633950801712977, "religion_normalized": 0.6097560975609756, "latitude": 27.766279, "longitude": -81.686783}, {"State": "Georgia", "id": 13, "education": 32.2, "income": 58700, "religion": 79, "voting": "Democrat", "education_normalized": 0.4698275862068967, "income_normalized": 0.3390847525146898, "religion_normalized": 0.8292682926829268, "latitude": 33.040619, "longitude": -83.643074}, {"State": "Hawaii", "id": 15, "education": 33.6, "income": 81275, "religion": 63, "voting": "Democrat", "education_normalized": 0.5301724137931035, "income_normalized": 0.9011552634199781, "religion_normalized": 0.43902439024390244, "latitude": 21.094318, "longitude": -157.498337}, {"State": "Idaho", "id": 16, "education": 27.6, "income": 55785, "religion": 51, "voting": "Republican", "education_normalized": 0.27155172413793105, "income_normalized": 0.266507319988049, "religion_normalized": 0.14634146341463414, "latitude": 44.240459, "longitude": -114.478828}, {"State": "Illinois", "id": 17, "education": 35.1, "income": 65886, "religion": 71, "voting": "Democrat", "education_normalized": 0.5948275862068966, "income_normalized": 0.5180011951000897, "religion_normalized": 0.6341463414634146, "latitude": 40.349457, "longitude": -88.986137}, {"State": "Indiana", "id": 18, "education": 26.9, "income": 56303, "religion": 72, "voting": "Republican", "education_normalized": 0.2413793103448275, "income_normalized": 0.27940444178866647, "religion_normalized": 0.6585365853658537, "latitude": 39.849426, "longitude": -86.258278}, {"State": "Iowa", "id": 19, "education": 29.3, "income": 60523, "religion": 77, "voting": "Republican", "education_normalized": 0.3448275862068966, "income_normalized": 0.384473658002191, "religion_normalized": 0.7804878048780488, "latitude": 42.011539, "longitude": -93.210526}, {"State": "Kansas", "id": 20, "education": 33.4, "income": 59597, "religion": 76, "voting": "Republican", "education_normalized": 0.5215517241379309, "income_normalized": 0.3614181854396972, "religion_normalized": 0.7560975609756098, "latitude": 38.5266, "longitude": -96.726486}, {"State": "Kentucky", "id": 21, "education": 24.2, "income": 50589, "religion": 76, "voting": "Republican", "education_normalized": 0.12499999999999994, "income_normalized": 0.13713773528533016, "religion_normalized": 0.7560975609756098, "latitude": 37.66814, "longitude": -84.670067}, {"State": "Louisiana", "id": 22, "education": 24.9, "income": 49469, "religion": 84, "voting": "Republican", "education_normalized": 0.15517241379310337, "income_normalized": 0.10925206652723832, "religion_normalized": 0.9512195121951219, "latitude": 31.169546, "longitude": -91.867805}, {"State": "Maine", "id": 23, "education": 32.5, "income": 57918, "religion": 60, "voting": "Democrat", "education_normalized": 0.48275862068965514, "income_normalized": 0.3196145802210935, "religion_normalized": 0.36585365853658536, "latitude": 44.693947, "longitude": -69.381927}, {"State": "Maryland", "id": 24, "education": 40.9, "income": 84805, "religion": 69, "voting": "Democrat", "education_normalized": 0.8448275862068965, "income_normalized": 0.9890449158450354, "religion_normalized": 0.5853658536585366, "latitude": 39.063946, "longitude": -76.802101}, {"State": "Massachusetts", "id": 25, "education": 44.5, "income": 81215, "religion": 57, "voting": "Democrat", "education_normalized": 1.0, "income_normalized": 0.8996613883079374, "religion_normalized": 0.2926829268292683, "latitude": 42.230171, "longitude": -71.530106}, {"State": "Michigan", "id": 26, "education": 29.1, "income": 57144, "religion": 70, "voting": "Democrat", "education_normalized": 0.3362068965517242, "income_normalized": 0.3003435912757694, "religion_normalized": 0.6097560975609756, "latitude": 43.326618, "longitude": -84.536095}, {"State": "Minnesota", "id": 27, "education": 36.8, "income": 71306, "religion": 70, "voting": "Democrat", "education_normalized": 0.668103448275862, "income_normalized": 0.6529479135544268, "religion_normalized": 0.6097560975609756, "latitude": 45.694454, "longitude": -93.900192}, {"State": "Mississippi", "id": 28, "education": 22.3, "income": 45081, "religion": 83, "voting": "Republican", "education_normalized": 0.04310344827586207, "income_normalized": 0.0, "religion_normalized": 0.926829268292683, "latitude": 32.741646, "longitude": -89.678696}, {"State": "Missouri", "id": 29, "education": 29.9, "income": 55461, "religion": 77, "voting": "Republican", "education_normalized": 0.3706896551724137, "income_normalized": 0.25844039438302957, "religion_normalized": 0.7804878048780488, "latitude": 38.456085, "longitude": -92.288368}, {"State": "Montana", "id": 30, "education": 32.7, "income": 54970, "religion": 65, "voting": "Republican", "education_normalized": 0.4913793103448277, "income_normalized": 0.2462155163828304, "religion_normalized": 0.4878048780487805, "latitude": 46.921925, "longitude": -110.454353}, {"State": "Nebraska", "id": 31, "education": 31.9, "income": 61439, "religion": 75, "voting": "Republican", "education_normalized": 0.45689655172413784, "income_normalized": 0.4072801513793447, "religion_normalized": 0.7317073170731707, "latitude": 41.12537, "longitude": -98.268082}, {"State": "Nevada", "id": 32, "education": 25.7, "income": 60365, "religion": 66, "voting": "Democrat", "education_normalized": 0.18965517241379304, "income_normalized": 0.38053978687381734, "religion_normalized": 0.5121951219512195, "latitude": 38.313515, "longitude": -117.055374}, {"State": "New Hampshire", "id": 33, "education": 37.6, "income": 76768, "religion": 59, "voting": "Democrat", "education_normalized": 0.7025862068965518, "income_normalized": 0.7889403445871925, "religion_normalized": 0.34146341463414637, "latitude": 43.452492, "longitude": -71.563896}, {"State": "New Jersey", "id": 34, "education": 39.7, "income": 85245, "religion": 67, "voting": "Democrat", "education_normalized": 0.7931034482758622, "income_normalized": 1.0, "religion_normalized": 0.5365853658536586, "latitude": 40.298904, "longitude": -74.521011}, {"State": "New Mexico", "id": 35, "education": 27.3, "income": 49754, "religion": 75, "voting": "Democrat", "education_normalized": 0.25862068965517243, "income_normalized": 0.11634797330943134, "religion_normalized": 0.7317073170731707, "latitude": 34.840515, "longitude": -106.248482}, {"State": "New York", "id": 36, "education": 37.5, "income": 68486, "religion": 60, "voting": "Democrat", "education_normalized": 0.6982758620689655, "income_normalized": 0.582735783288517, "religion_normalized": 0.36585365853658536, "latitude": 42.165726, "longitude": -74.948051}, {"State": "North Carolina", "id": 37, "education": 31.9, "income": 54602, "religion": 77, "voting": "Republican", "education_normalized": 0.45689655172413784, "income_normalized": 0.2370530823623145, "religion_normalized": 0.7804878048780488, "latitude": 35.630066, "longitude": -79.806419}, {"State": "North Dakota", "id": 38, "education": 30.7, "income": 64577, "religion": 77, "voting": "Republican", "education_normalized": 0.4051724137931034, "income_normalized": 0.4854098197390698, "religion_normalized": 0.7804878048780488, "latitude": 47.528912, "longitude": -99.784012}, {"State": "Ohio", "id": 39, "education": 28.9, "income": 56602, "religion": 73, "voting": "Republican", "education_normalized": 0.32758620689655166, "income_normalized": 0.28684891943033564, "religion_normalized": 0.6829268292682927, "latitude": 40.388783, "longitude": -82.764915}, {"State": "Oklahoma", "id": 40, "education": 25.5, "income": 52919, "religion": 79, "voting": "Republican", "education_normalized": 0.18103448275862066, "income_normalized": 0.19514988546957474, "religion_normalized": 0.8292682926829268, "latitude": 35.565342, "longitude": -96.928917}, {"State": "Oregon", "id": 41, "education": 34.4, "income": 62818, "religion": 61, "voting": "Democrat", "education_normalized": 0.564655172413793, "income_normalized": 0.44161438103774525, "religion_normalized": 0.3902439024390244, "latitude": 44.572021, "longitude": -122.070938}, {"State": "Pennsylvania", "id": 42, "education": 31.8, "income": 61744, "religion": 73, "voting": "Democrat", "education_normalized": 0.4525862068965517, "income_normalized": 0.4148740165322179, "religion_normalized": 0.6829268292682927, "latitude": 40.590752, "longitude": -77.209755}, {"State": "Rhode Island", "id": 44, "education": 34.2, "income": 67167, "religion": 75, "voting": "Democrat", "education_normalized": 0.5560344827586208, "income_normalized": 0.5498954287421571, "religion_normalized": 0.7317073170731707, "latitude": 41.680893, "longitude": -71.51178}, {"State": "South Carolina", "id": 45, "education": 28.9, "income": 53199, "religion": 81, "voting": "Republican", "education_normalized": 0.32758620689655166, "income_normalized": 0.2021213026590977, "religion_normalized": 0.8780487804878049, "latitude": 33.856892, "longitude": -80.945007}, {"State": "South Dakota", "id": 46, "education": 29.2, "income": 58275, "religion": 86, "voting": "Republican", "education_normalized": 0.3405172413793103, "income_normalized": 0.32850313713773527, "religion_normalized": 1.0, "latitude": 44.299782, "longitude": -99.438828}, {"State": "Tennessee", "id": 47, "education": 27.9, "income": 53320, "religion": 81, "voting": "Republican", "education_normalized": 0.28448275862068956, "income_normalized": 0.20513395080171298, "religion_normalized": 0.8780487804878049, "latitude": 35.747845, "longitude": -86.692345}, {"State": "Texas", "id": 48, "education": 30.8, "income": 61874, "religion": 77, "voting": "Republican", "education_normalized": 0.40948275862068967, "income_normalized": 0.4181107459416393, "religion_normalized": 0.7804878048780488, "latitude": 31.054487, "longitude": -97.563461}, {"State": "Utah", "id": 49, "education": 34.5, "income": 71621, "religion": 64, "voting": "Republican", "education_normalized": 0.5689655172413793, "income_normalized": 0.6607907578926402, "religion_normalized": 0.4634146341463415, "latitude": 40.150032, "longitude": -111.862434}, {"State": "Vermont", "id": 50, "education": 38.7, "income": 63001, "religion": 54, "voting": "Democrat", "education_normalized": 0.7500000000000001, "income_normalized": 0.4461707001294692, "religion_normalized": 0.21951219512195122, "latitude": 44.045876, "longitude": -72.710686}, {"State": "Virginia", "id": 51, "education": 38.8, "income": 74222, "religion": 72, "voting": "Democrat", "education_normalized": 0.7543103448275861, "income_normalized": 0.7255502439996017, "religion_normalized": 0.6585365853658537, "latitude": 37.769337, "longitude": -78.169968}, {"State": "Washington", "id": 53, "education": 36.0, "income": 73775, "religion": 61, "voting": "Democrat", "education_normalized": 0.6336206896551724, "income_normalized": 0.7144208744148989, "religion_normalized": 0.3902439024390244, "latitude": 47.400902, "longitude": -121.490494}, {"State": "West Virginia", "id": 54, "education": 21.3, "income": 46711, "religion": 78, "voting": "Republican", "education_normalized": 0.0, "income_normalized": 0.04058360721043721, "religion_normalized": 0.8048780487804879, "latitude": 38.491226, "longitude": -80.954453}, {"State": "Wisconsin", "id": 55, "education": 30.8, "income": 61747, "religion": 71, "voting": "Democrat", "education_normalized": 0.40948275862068967, "income_normalized": 0.41494871028781993, "religion_normalized": 0.6341463414634146, "latitude": 44.268543, "longitude": -89.616508}, {"State": "Wyoming", "id": 56, "education": 27.4, "income": 64049, "religion": 57, "voting": "Republican", "education_normalized": 0.26293103448275856, "income_normalized": 0.47226371875311224, "religion_normalized": 0.2926829268292683, "latitude": 42.755966, "longitude": -107.30249}]}};
  const embedOpt = {};
  vegaEmbed('#vega-visualization-fe040d06fa4542608d07c6e1797c644f', spec, embedOpt).catch(console.error);
</script>
</body>
</html>
